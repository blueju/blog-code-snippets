{"version":3,"sources":["PersonalInfo.jsx","App.js","index.js"],"names":["columns","title","dataIndex","key","PersonalInfo","props","handleChange","e","dataSource","target","value","trim","length","filter","id","includes","setState","state","prevProps","size","this","placeholder","style","marginBottom","width","onChange","rowKey","bordered","pagination","nextProps","prevState","React","Component","App","useState","setDataSource","className","padding","type","onClick","name","age","address","birthTime","rootElement","document","getElementById","ReactDOM","render"],"mappings":"mRAGMA,EAAU,CACd,CACEC,MAAO,2BACPC,UAAW,KACXC,IAAK,MAEP,CACEF,MAAO,eACPC,UAAW,OACXC,IAAK,QAEP,CACEF,MAAO,eACPC,UAAW,MACXC,IAAK,OAEP,CACEF,MAAO,2BACPC,UAAW,YACXC,IAAK,aAEP,CACEF,MAAO,eACPC,UAAW,UACXC,IAAK,YAkEMC,E,kDA7Db,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAwBRC,aAAe,SAACC,GACd,IAAIC,EAEFA,EADED,EAAEE,OAAOC,MAAMC,OAAOC,OACX,EAAKP,MAAMG,WAAWK,QAAO,YACxC,OADoD,EAATC,GACjCC,SAASR,EAAEE,OAAOC,UAGjB,EAAKL,MAAMG,WAE1B,EAAKQ,SAAS,CACZF,GAAIP,EAAEE,OAAOC,MACbF,gBAlCF,EAAKS,MAAQ,CACXH,GAAI,GACJN,WAAY,EAAKH,MAAMG,WACvBU,UAAW,EAAKb,OALD,E,0CAwCnB,WACE,OACE,eAAC,IAAD,CAAMJ,MAAM,2BAAOkB,KAAK,QAAxB,UACE,cAAC,IAAD,CACET,MAAOU,KAAKH,MAAMH,GAClBO,YAAY,2BACZC,MAAO,CAAEC,aAAc,GAAIC,MAAO,KAClCC,SAAUL,KAAKd,eAEjB,cAAC,IAAD,CACEoB,OAAO,KACP1B,QAASA,EACTQ,WAAYY,KAAKH,MAAMT,WACvBmB,UAAQ,EACRC,YAAY,U,uCAvCpB,SAAgCC,EAAWC,GACzC,OAAID,IAAcC,EAAUZ,UACnB,CACLV,WAAYqB,EAAUrB,WACtBU,UAAWW,GAGR,S,GAvBgBE,IAAMC,WCzBlB,SAASC,IACtB,MAAoCC,mBAAS,IAA7C,mBAAO1B,EAAP,KAAmB2B,EAAnB,KA0BA,OACE,sBAAKC,UAAU,MAAMd,MAAO,CAAEe,QAAS,IAAvC,UACE,mDACA,yEACA,uBACA,cAAC,IAAD,CAAQC,KAAK,UAAUC,QA9B3B,WACEJ,EAAc,CACZ,CACErB,GAAI,qBACJ0B,KAAM,eACNC,IAAK,KACLC,QAAS,oDACTC,UAAW,sBAEb,CACE7B,GAAI,qBACJ0B,KAAM,eACNC,IAAK,KACLC,QAAS,oDACTC,UAAW,sBAEb,CACE7B,GAAI,qBACJ0B,KAAM,eACNC,IAAK,KACLC,QAAS,oDACTC,UAAW,yBASyBrB,MAAO,CAAEC,aAAc,IAA7D,kGAGA,cAAC,EAAD,CAAcf,WAAYA,OCpChC,IAAMoC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAACf,EAAD,MAEFW,K","file":"static/js/main.059f2846.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Table, Input, Card } from \"antd\";\r\n\r\nconst columns = [\r\n  {\r\n    title: \"身份证号\",\r\n    dataIndex: \"id\",\r\n    key: \"id\",\r\n  },\r\n  {\r\n    title: \"姓名\",\r\n    dataIndex: \"name\",\r\n    key: \"name\",\r\n  },\r\n  {\r\n    title: \"年龄\",\r\n    dataIndex: \"age\",\r\n    key: \"age\",\r\n  },\r\n  {\r\n    title: \"出生时间\",\r\n    dataIndex: \"birthTime\",\r\n    key: \"birthTime\",\r\n  },\r\n  {\r\n    title: \"地址\",\r\n    dataIndex: \"address\",\r\n    key: \"address\",\r\n  },\r\n];\r\n\r\nclass PersonalInfo extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: \"\",\r\n      dataSource: this.props.dataSource,\r\n      prevProps: this.props,\r\n    };\r\n  }\r\n  /**\r\n   * 参考：\r\n   * 1、https://zh-hans.reactjs.org/docs/react-component.html#static-getderivedstatefromprops\r\n   * 2、https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/\r\n   * @param {*} nextProps\r\n   * @param {*} prevState\r\n   */\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (nextProps !== prevState.prevProps) {\r\n      return {\r\n        dataSource: nextProps.dataSource,\r\n        prevProps: nextProps,\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    let dataSource;\r\n    if (e.target.value.trim().length) {\r\n      dataSource = this.props.dataSource.filter(({ id }) => {\r\n        return id.includes(e.target.value);\r\n      });\r\n    } else {\r\n      dataSource = this.props.dataSource;\r\n    }\r\n    this.setState({\r\n      id: e.target.value,\r\n      dataSource,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Card title=\"个人信息\" size=\"small\">\r\n        <Input\r\n          value={this.state.id}\r\n          placeholder=\"身份证号\"\r\n          style={{ marginBottom: 10, width: 200 }}\r\n          onChange={this.handleChange}\r\n        />\r\n        <Table\r\n          rowKey=\"id\"\r\n          columns={columns}\r\n          dataSource={this.state.dataSource}\r\n          bordered\r\n          pagination={false}\r\n        />\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PersonalInfo;\r\n","import \"antd/dist/antd.min.css\";\nimport { Button } from \"antd\";\nimport { useState } from \"react\";\n\nimport PersonalInfo from \"./PersonalInfo\";\n\nexport default function App() {\n  const [dataSource, setDataSource] = useState([]);\n  function show() {\n    setDataSource([\n      {\n        id: \"110101199508018876\",\n        name: \"张三\",\n        age: \"18\",\n        address: \"西湖区湖底公园1号\",\n        birthTime: \"2022-3-12 12:39:01\",\n      },\n      {\n        id: \"330102199003071193\",\n        name: \"李四\",\n        age: \"28\",\n        address: \"西湖区湖底公园2号\",\n        birthTime: \"2022-3-12 12:40:09\",\n      },\n      {\n        id: \"420102199003078637\",\n        name: \"王五\",\n        age: \"38\",\n        address: \"西湖区湖底公园3号\",\n        birthTime: \"2022-3-12 12:40:16\",\n      },\n    ]);\n  }\n  return (\n    <div className=\"App\" style={{ padding: 10 }}>\n      <h1>Hello CodeSandbox</h1>\n      <h2>Start editing to see some magic happen!</h2>\n      <hr />\n      <Button type=\"primary\" onClick={show} style={{ marginBottom: 10 }}>\n        点击向下面的组件传入个人信息\n      </Button>\n      <PersonalInfo dataSource={dataSource} />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}